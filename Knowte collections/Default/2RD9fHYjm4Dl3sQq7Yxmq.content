{"ops":[{"insert":"Ir a la ubicacion de el proyecto donde se encuentre el .sln"},{"attributes":{"list":"ordered"},"insert":"\n"},{"insert":"cd /mnt/odoodata/MTWDM/Peimbert/DotNet/Modulo-Products-and-Services"},{"attributes":{"code-block":true},"insert":"\n\n"},{"insert":"Crear el archivo Dockerfile dentro de /mnt/odoodata/MTWDM/Peimbert/DotNet/Modulo-Products-and-Services"},{"attributes":{"list":"ordered"},"insert":"\n"},{"insert":"nano Dockerfile"},{"attributes":{"list":"ordered"},"insert":"\n"},{"insert":"FROM mcr.microsoft.com/dotnet/sdk:6.0-alpine as build"},{"attributes":{"code-block":true},"insert":"\n"},{"insert":"EXPOSE 5000"},{"attributes":{"code-block":true},"insert":"\n"},{"insert":"ENV ASPNETCORE_URLS=\"http://+:5000\""},{"attributes":{"code-block":true},"insert":"\n"},{"insert":"ENV ASPNETCORE_ENVIRONMENT=\"production\""},{"attributes":{"code-block":true},"insert":"\n"},{"insert":"WORKDIR /app"},{"attributes":{"code-block":true},"insert":"\n"},{"insert":"COPY . ."},{"attributes":{"code-block":true},"insert":"\n"},{"insert":"RUN dotnet restore"},{"attributes":{"code-block":true},"insert":"\n"},{"insert":"RUN dotnet publish -o /app/published-app"},{"attributes":{"code-block":true},"insert":"\n"},{"insert":"FROM mcr.microsoft.com/dotnet/aspnet:6.0-alpine as runtime"},{"attributes":{"code-block":true},"insert":"\n"},{"insert":"WORKDIR /app"},{"attributes":{"code-block":true},"insert":"\n"},{"insert":"COPY --from=build /app/published-app /app"},{"attributes":{"code-block":true},"insert":"\n"},{"insert":"ENTRYPOINT [ \"dotnet\", \"/app/FinalProject.ProductsAndServices.Api.dll\"]"},{"attributes":{"code-block":true},"insert":"\n\n"},{"insert":"Ejecutar"},{"attributes":{"list":"ordered"},"insert":"\n"},{"insert":"docker build -t my-dev-image-name ."},{"attributes":{"list":"ordered"},"insert":"\n"},{"insert":"docker run -d -p 5000:5000 -e ASPNETCORE_URLS=\"http://+:5000\" my-dev-image-name "},{"attributes":{"list":"ordered"},"insert":"\n"},{"insert":"docker node ls\n"}]}